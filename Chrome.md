
## Chrome拡張機能を構成する要とは？

Chrome拡張機能は、HTMLとCSS,JavaScriptで作成したファイル群を`.crx`という拡張子の単一パッケージに圧縮し、ユーザーがダウンロードしてインストールできる形式にして配布しますが、その中身はいくつかの要素で構成されています。

<br>


### マニフェスト

全ての拡張機能は、`manifest.json`という設定ファイルが必須となります。拡張機能の名前や説明、アイコンやファイルのパスやパーミッション、そのほか拡張機能に関する設定をJSON形式で指定します。

<br>


## バックグラウンドページ

バックグラウンドページは拡張機能内のイベントを補足してイベントのマネージメントを行います。ブックマークやタブを操作した時など、ブラウザで発生するイベントを補足、対応する処理をJavaScriptで記述することができます。


<br>


## コンテンツスクリプト

コンテンツスクリプトは、任意のWebページにスクリプトを差し込んで実行されるためページ上のDOMを操作したり、CSSを適用することができます。

<br>



## UI 要素

ツールバーのアイコンやオンオフやバッジ付与、アイコンホバー時のツールチップ、右クリックのコンテキストメニューやオムニボックス(検索バー）への機能追加など、ブラウザのUIに機能を追加したり動作を制御できます。マニフェストファイルで定義をし、バックグラウンドスクリプトに処理内容を記述します。

<br>
<br>
また、アイコンクリック時に表示されるポップアップページも拡張機能のUI要素の一部ですが、中身は単なるHTMLなので自由に作成できる。


## オプションページ

オプションページもHTMLで作成できます。オプションページを提供することで、ユーザーが拡張機能の動作をカスタマイズできるようにします。



<br>
<br>


## マニフェストの初期設定

Chrome拡張機能は、まず最初に設定ファイルであるマニフェストを定義することから始まります。マニフェストには、拡張機能の
メタデータやファイルパス、権限などを設定します。<br>

<br>
<br>


プロジェクトのルートディレクトリに`manifest.json`という名前のファイルを作成し、JSON形式で基本項目を埋めていきます。<br>


manifest.json ↓

```
{
  "manifest_version": 2,
  "version": "1.0",
  "name": "PixelMarket Extention",
  "description": "PixelMarketの出品ページに、前回入力値の復元機能と商品説明テンプレート機能を追加します。",
  "icons": {
    "16": "icons/icon16.png",
    "32": "icons/icon32.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  }
}

```

#### manifest_version (必須)

`manifest_version`フィールドには、マニフェストのファイル形式のバージョンを数値で指定します。最新バージョンを指定しておけば良いのです。


#### version(必須)

`version`フィールドは、Chrome拡張機能のバージョンを、ドット区切りの数値で表しています。公開された拡張機能がインストールされている拡張機能よりも新しいバージョンの場合、



#### name(必須)

`name`フィールドは、拡張機能を識別するための名前で、最大45文字まで設定可能です。<br>
インストールのダイアログやChromeウェブストアなどで表示されますので、他の人がみて機能がイメージできるようなわかりやすい名前にすること


<br>
なお、拡張機能の名前が長くなる場合、表示場所によっては切り捨てられる可能性があります。そのため、オプションで`short_name`フィールドを設定することもできます。こちらは最大12文字まで設定でき、アプリランチャーや新しいタブページなど、スペースが不十分な場所で使用されます。


#### description


`description`フィールドは、拡張機能を説明する文字列で、最大132文字まで設定可能です。Chromeウェブストアや拡張機能管理画面で表示されるため、この拡張機能をインストールするとどのような機能が追加されるのかを簡潔に説明した文を指定しましょう


<br>

#### icons

`icons`フィールドは、拡張機能のアイコンへのファイルパスを指定します。Chromeウェブストアやインストール時は128px,拡張機能の管理ページでは48px,Windowsでは32px,ファビコンでは16pxというように表示場所によって最適なアイコンサイズは異なります。<br>
ファビコンでは16pxというように、表示場所によって最適なアイコンサイズは異なります。そのため、複数のサイズのアイコンを設定しておくことをお勧めします。128pxのみでも設定可能ですがブラウザ上で縮小がかかるため綺麗に見えない可能性があります、


<br>
アイコンは背景を透過することもできます。そのため、ファイル形式はPNGが推奨されていますが、JPEGはGIF,BMP,ICOなどの形式もサポートしています。なお、アイコンを設定しない場合は、Chrome拡張機能のデフォルトアイコンが表示されます。


#### その他のフィールド

これ以外にも、








