
Ajaxまとめ


## 目次


1. Ajaxとは
2. JSONとは
3. JSONPとは






. 同期と非同期とは 



## 1 Ajaxとは

Ajaxごは、Asynchronous JavaScript + XML の略称でJavaScriptを使って非同期でサーバーとやりとりをする通信のことです。<br>


* クライアントから非同期更新に必要なデータをサーバーに送る<br>
* サーバーはデータを受け取ってクライアントに整形済データを返す<br>
* クライアントはサーバから受け取った整形済データをDOMに反映する<br>
<br>
<br>

ざっくりこのような流れでAjaxは実現されてる。<br>
クライアントからデータを送ったり、サーバから整形済データが返ってきたと検知するところにJavascriptのXTR(XMLHttpRequest)という技術が使われていて、<br>
返って来たと検知するところにJavaScriptのXTR(XMLHttpRequest)という技術が使われていて、返ってくる整形済データがXMlだったりするので Asynchronous JavaScript + XML と呼ばれている。<br>
ただし、XMLは名前だけ残って良いて、デファクトスタンダートで返ってくるデータはJSONというフォーマットが多いい。

<br>
<br>

## JSONとは

JSONはJavaScript Object Notationの略で、<a href="http://pentan.info/doc/rfc/j4627.html">RFC4627が規定するデータ記述言語です</a><br>
その名が示す通り、JavaScriotの記法でデータを記述できる点が最大の特徴です。語法はJavaScriptですが、そのシンプルさから多くの言語がライブラリを用意しているためa<br>
プログラミング言語間でデータを受け渡せます。<br>

<br>
WebサービスではブラウザがJavaScriptを実行できるので相性が良いこと、XMLと比べてデータ表現の冗長性が低いことなどかの利点から<br>
Ajax通信に置けるデータフォーマットとして活用されます、

<br>
<br>


### メディアタイプ

JSONのメディアタイプは「application/json」です。<br>
以下のHTTPヘッダは、このメッセージのボディがUTF-8でエンコードしたJSONであることを意味します。
` Content-Type: application/json; charset=utf-8`

 XMLやHTMLと同様に特別な理由がない限りはUTF-8を使うのが無難です。
 
<br>
<br>
 
### データ型
 
 JSONに組み込みで用意されてるデータ型には次の6つがあります。<br>
 
 
 * オブジェクト
 * 配列
 * 数値
 * ブーリアン
 * null
 
<br>


#### オブジェクト
 
```
{
  "name": {
     "first": "Yohei",
     "last": "Yamamoto"
  },
  "blog": "http://yohei-y.blogspot.com",
  "age": 34,
  "interest": ["Web", "XML", "REST"]
}
```

オブジェクトは`{`で始まり、`}`で終わります<br>
メンバは`,`で区切り、メンバの名前と値は`:`で区切ります。<br>
この例は、name,blog,age,interestの4つのメンバをもつオブジェクトです<br>
メンバはそれぞれ順に、オブジェクト、文字列、数値、配列を値として持っています.



<br>


## 3.JSONPとは




#### クロスドメイン通信の制限

JSONPを説明する前に、なぜJSONPが必要になるのかの背景をせつめい<br>
Ajaxで用いるXMLHttpRequest という JavaScriptのモジュールはセキュリティ上の制限からJavaScriptファイルを取得したのと同じサーバとしか通信できません<br>
JavaScriptが在るサーバとは別のサーバと通信できてしまうと、ブラウザで入力した情報をユーザが知らない間に不正なサーバに送信できてしまうからです。<br>
ちなみに、このように不特定多数のドメインに属するサーバにアクセスすることを「クロスドメイン通信」(ドメインをまたがった通信の意）と呼びます<br>
<br>
しかし、複数のドメインのサーバと通信できず、単一のドメインのみと通信をしなければならないのは大きな制限です。<br>
たとえば、自サービスでは地図データと郵便番号データを保持せずに、それらを提供している他のWeb API( Google map, ぐるなびのapiとか)から適宜取得することができないからです。<br>













## ? 同期と非同期とは

クライアントは、HTTPリクエストを送った後、HTTPレスポンスがサーバーから返ってくるまで、ずっと待機することになる。
ネットワークが遅い場合にページが真っ白になることがある、あの状態。この間ユーザーは何もできない。

↑このようにリクエストを送ってからレスポンスが返ってくるまでの間、他の処理を行わずにレスポンスを待ち続ける通信方式のことを同期と言います。

<br>

しかし、Ajaxなら非同期で通信を行うことが可能です。
非同期ではリクエストを送った後、いったん放置して別の作業を進めておき、レスポンスが返ってきたタイミングでその処理を再開する。
<br>
そのため、ユーザーはストレスを感じることなく、他の作業を進めることができる。また、ページ全体の動作をストップさせることなく、ページの一部のみを更新するおt
いったことも可能となる、これがAjaxのメリットです。


<br>




## ? Ajaxの仕組みとは









